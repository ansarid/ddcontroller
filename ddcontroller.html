<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ddcontroller package &mdash; DDController  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="ddcontroller" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DDController
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">ddcontroller</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ddcontroller package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ddcontroller.ddcontroller">ddcontroller.ddcontroller module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ddcontroller.ddcontroller.DDRobot"><code class="docutils literal notranslate"><span class="pre">DDRobot</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-ddcontroller.motor">ddcontroller.motor module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ddcontroller.motor.Motor"><code class="docutils literal notranslate"><span class="pre">Motor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-ddcontroller.wheels">ddcontroller.wheels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ddcontroller.wheels.Wheel"><code class="docutils literal notranslate"><span class="pre">Wheel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-ddcontroller">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DDController</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">ddcontroller</a></li>
      <li class="breadcrumb-item active">ddcontroller package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/ddcontroller.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ddcontroller-package">
<h1>ddcontroller package<a class="headerlink" href="#ddcontroller-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-ddcontroller.ddcontroller">
<span id="ddcontroller-ddcontroller-module"></span><h2>ddcontroller.ddcontroller module<a class="headerlink" href="#module-ddcontroller.ddcontroller" title="Permalink to this heading"></a></h2>
<p>This file is part of the ddcontroller library (<a class="reference external" href="https://github.com/ansarid/ddcontroller">https://github.com/ansarid/ddcontroller</a>).
Copyright (C) 2022  Daniyal Ansari</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ddcontroller.ddcontroller.</span></span><span class="sig-name descname"><span class="pre">DDRobot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/opt/ddcontroller/config/default.yaml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initialize a DDRobot object.</p>
<p>This method initializes a DDRobot object by setting up the wheels and loading the configuration from a YAML file. The robot has various attributes such as its heading, linear velocity, and global position, as well as target motion, heading, and position. The robot also has various constants such as its wheel base, maximum linear and angular velocities, and tolerance for reaching the target position.</p>
<p>Args:
config_path (str, optional): The path to the YAML configuration file. Defaults to ‘/opt/ddcontroller/config/default.yaml’.
debug (bool, optional): Whether to print debugging messages. Defaults to False.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.define_global_position">
<span class="sig-name descname"><span class="pre">define_global_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.define_global_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.define_global_position" title="Permalink to this definition"></a></dt>
<dd><p>Define the global position of the robot.</p>
<p>This method sets the global position of the robot as an attribute of the DDRobot object.</p>
<p>Args:
position (list): A list containing the x and y position of the robot.</p>
<p>Returns:
list: The global position of the robot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.define_heading">
<span class="sig-name descname"><span class="pre">define_heading</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">heading</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.define_heading"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.define_heading" title="Permalink to this definition"></a></dt>
<dd><p>Define the heading of the robot.</p>
<p>This method defines the heading of the robot by taking the arctangent of the sine and cosine of the input heading, constraining the heading to be between -pi and pi. The defined heading is then stored as an attribute of the DDRobot object and returned.</p>
<p>Args:
heading (float): The heading of the robot in radians.</p>
<p>Returns:
float: The defined heading of the robot in radians, constrained to be between -pi and pi.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.get_angular_velocity">
<span class="sig-name descname"><span class="pre">get_angular_velocity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.get_angular_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.get_angular_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Get the angular velocity of the robot.</p>
<p>This method returns the angular velocity of the robot as an attribute of the DDRobot object.</p>
<p>Returns:
float: The angular velocity of the robot, in radians per second.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.get_global_position">
<span class="sig-name descname"><span class="pre">get_global_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.get_global_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.get_global_position" title="Permalink to this definition"></a></dt>
<dd><p>Get the global position of the robot.</p>
<p>This method returns the global position of the robot as an attribute of the DDRobot object.</p>
<p>Returns:
list: The global position of the robot, as a list containing the x and y position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.get_heading">
<span class="sig-name descname"><span class="pre">get_heading</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.get_heading"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.get_heading" title="Permalink to this definition"></a></dt>
<dd><p>Get the heading of the robot.</p>
<p>This method returns the heading of the robot as an attribute of the DDRobot object.</p>
<p>Returns:
float: The heading of the robot in radians.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.get_linear_velocity">
<span class="sig-name descname"><span class="pre">get_linear_velocity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.get_linear_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.get_linear_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Get the linear velocity of the robot.</p>
<p>This method returns the linear velocity of the robot as an attribute of the DDRobot object.</p>
<p>Returns:
float: The linear velocity of the robot, in meters per second.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.get_motion">
<span class="sig-name descname"><span class="pre">get_motion</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.get_motion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.get_motion" title="Permalink to this definition"></a></dt>
<dd><p>Calculate and return the current linear and angular velocities of the robot.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>list: A list of two floats, representing the linear and angular velocities of the robot, in that order.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.go_to">
<span class="sig-name descname"><span class="pre">go_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_linear_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angular_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backwards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.go_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.go_to" title="Permalink to this definition"></a></dt>
<dd><p>Moves the robot to the specified target position using a position controller.
The robot will continue to move towards the target position until it is within the specified tolerance.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>target_position (list): The target position as a 2-element list [x, y] in global coordinates.
tolerance (float, optional): The tolerance for reaching the target position in meters. Defaults to 0.1.
max_linear_velocity (float, optional): The maximum linear velocity the robot will use to reach the target position in m/s. If not provided, the default value specified in the configuration file will be used.
max_angular_velocity (float, optional): The maximum angular velocity the robot will use to reach the target position in rad/s. If not provided, the default value specified in the configuration file will be used.
backwards (bool, optional): Whether the robot should move backwards to reach the target position. Defaults to False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.set_angular_velocity">
<span class="sig-name descname"><span class="pre">set_angular_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angular_velocity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.set_angular_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.set_angular_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Set the target angular velocity for the robot.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>angular_velocity (float): The desired angular velocity of the robot in radians per second.</p>
</dd>
<dt>Returns:</dt><dd><p>list: The current target motion of the robot, where the first element is the linear velocity and the second element is the angular velocity.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.set_heading">
<span class="sig-name descname"><span class="pre">set_heading</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_heading</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angular_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.set_heading"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.set_heading" title="Permalink to this definition"></a></dt>
<dd><p>Set the heading of the robot.</p>
<p>This method sets the target heading of the robot by taking the arctangent of the sine and cosine of the input heading, constraining the heading to be between -pi and pi. The maximum angular velocity of the robot can also be set as an optional parameter. The control level of the robot is set to 2, indicating that heading control is active.</p>
<p>Args:
target_heading (float): The target heading of the robot in radians.
max_angular_velocity (float, optional): The maximum angular velocity of the robot in radians per second. Defaults to None.</p>
<p>Returns:
None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.set_linear_velocity">
<span class="sig-name descname"><span class="pre">set_linear_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linear_velocity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.set_linear_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.set_linear_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Set the desired linear velocity of the robot.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>linear_velocity (float): The linear velocity to set in meters per second.</p>
</dd>
<dt>Returns:</dt><dd><p>list: The updated target motion of the robot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.set_motion">
<span class="sig-name descname"><span class="pre">set_motion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_motion</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.set_motion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.set_motion" title="Permalink to this definition"></a></dt>
<dd><p>Set the target linear and angular velocities for the robot.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>target_motion (list): A list containing the target linear velocity (m/s) as the first element</dt><dd><p>and the target angular velocity (rad/s) as the second element.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>numpy.ndarray: An array containing the target angular velocities (rad/s) for the left and right wheels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.sleep">
<span class="sig-name descname"><span class="pre">sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.sleep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.sleep" title="Permalink to this definition"></a></dt>
<dd><p>_summary_</p>
<dl class="simple">
<dt>Args:</dt><dd><p>start_time (_type_): _description_</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.ddcontroller.DDRobot.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/ddcontroller.html#DDRobot.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.ddcontroller.DDRobot.stop" title="Permalink to this definition"></a></dt>
<dd><p>Stop the robot.</p>
<p>This method stops the robot by setting the motion to 0, stopping the control threads, and stopping the wheels.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-ddcontroller.motor">
<span id="ddcontroller-motor-module"></span><h2>ddcontroller.motor module<a class="headerlink" href="#module-ddcontroller.motor" title="Permalink to this heading"></a></h2>
<p>This file is part of the ddcontroller library (<a class="reference external" href="https://github.com/ansarid/ddcontroller">https://github.com/ansarid/ddcontroller</a>).
Copyright (C) 2022  Daniyal Ansari</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ddcontroller.motor.Motor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ddcontroller.motor.</span></span><span class="sig-name descname"><span class="pre">Motor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwm_frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_duty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decay_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FAST'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/motor.html#Motor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.motor.Motor" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for controlling a motor using the Raspberry Pi’s GPIO pins.</p>
<dl>
<dt>Args:</dt><dd><p>pins (list): A list of the GPIO pins that will be used to control the motor.
pwm_frequency (int): The frequency of the pulse width modulation (PWM) signal</p>
<blockquote>
<div><p>that will be used to control the motor.</p>
</div></blockquote>
<p>initial_duty (int, optional): The initial duty cycle of the PWM signal. Defaults to 0.
decay_mode (str, optional): The decay mode of the motor. Can be either “FAST” or</p>
<blockquote>
<div><p>“SLOW”. Defaults to “FAST”.</p>
</div></blockquote>
<dl class="simple">
<dt>invert (bool, optional): A boolean value indicating whether the motor’s direction</dt><dd><p>should be reversed. Defaults to False.</p>
</dd>
</dl>
<p>rpm (int, optional): The speed of the motor in rotations per minute. Defaults to 200.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.motor.Motor.set_duty">
<span class="sig-name descname"><span class="pre">set_duty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duty</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/motor.html#Motor.set_duty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.motor.Motor.set_duty" title="Permalink to this definition"></a></dt>
<dd><p>Sets the duty cycle of the PWM signal.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>duty (float): The new duty cycle of the PWM signal, from -1 to 1.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.motor.Motor.set_pwm_frequency">
<span class="sig-name descname"><span class="pre">set_pwm_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/motor.html#Motor.set_pwm_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.motor.Motor.set_pwm_frequency" title="Permalink to this definition"></a></dt>
<dd><p>Sets the frequency of the PWM signal.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>frequency (int): The new frequency of the PWM signal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.motor.Motor.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/motor.html#Motor.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.motor.Motor.stop" title="Permalink to this definition"></a></dt>
<dd><p>Stops the motor by setting the duty cycle of the PWM signal to 0.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-ddcontroller.wheels">
<span id="ddcontroller-wheels-module"></span><h2>ddcontroller.wheels module<a class="headerlink" href="#module-ddcontroller.wheels" title="Permalink to this heading"></a></h2>
<p>This file is part of the ddcontroller library (<a class="reference external" href="https://github.com/ansarid/ddcontroller">https://github.com/ansarid/ddcontroller</a>).
Copyright (C) 2022  Daniyal Ansari</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ddcontroller.wheels.</span></span><span class="sig-name descname"><span class="pre">Wheel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">motor_pins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwm_frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i2c_bus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoder_address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wheel_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">motor_pulley_teeth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wheel_pulley_teeth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">motor_decay_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FAST'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert_motor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert_encoder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed_loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Kp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ki</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for representing and controlling a single wheel.</p>
<p>This class represents a single wheel, including its motor and encoder, and provides methods for controlling the speed of the motor and calculating the rotation and linear velocity of the wheel.</p>
<p>Attributes:
closed_loop (bool): A flag indicating whether closed loop control should be used to control the motor.
motor (Motor): An instance of the Motor class representing the motor driving the wheel.
encoder (AS5048B): An instance of the AS5048B class representing the encoder attached to the wheel.
pid (PID): An instance of the PID class representing the PID controller used for closed loop control.
radius (float): The radius of the wheel, in meters.
pulley_ratio (float): The ratio of the number of teeth on the motor pulley to the number of teeth on the wheel pulley.
rpm (float): The rotational speed of the motor, in revolutions per minute.
max_angular_velocity (float): The maximum angular velocity of the wheel, in radians per second, based on the maximum RPM of the motor.
target_angular_velocity (float): The target angular velocity of the system, in radians per second, used to control the motor.
position (int): The raw encoder position of the wheel, in ticks.
timestamp (int): The timestamp of the last measurement of the encoder position, in nanoseconds.
target_velocity (float): The target linear velocity of the wheel, in meters per second.
angular_velocity (float): The current angular velocity of the wheel, in radians per second.
linear_velocity (float): The current linear velocity of the wheel, in meters per second.
rollover_limit (int): The limit at which the encoder position will rollover, in ticks.
_positions (deque): A deque object containing the last two encoder positions of the wheel, in ticks.
_timestamps (deque): A deque object containing the timestamps of the last two encoder position measurements, in nanoseconds.</p>
<p>Args:
motor_pins (tuple): A tuple containing the pins of the motor driver connected to the motor.
pwm_frequency (int): The frequency of the pulse width modulation used to control the motor, in hertz.
i2c_bus (int): The number of the I2C bus on which the encoder is connected.
encoder_address (int): The I2C address of the encoder.
wheel_radius (float): The radius of the wheel, in meters.
motor_pulley_teeth (int): The number of teeth on the pulley attached to the motor shaft.
wheel_pulley_teeth (int): The number of teeth on the pulley attached to the wheel hub.
motor_decay_mode (str, optional): The decay mode of the motor. Can be ‘FAST’ or ‘SLOW’. Defaults to ‘FAST’.
invert_motor (bool, optional): A flag indicating whether the motor should be inverted. Defaults to False.
invert_encoder (bool, optional): A flag indicating whether the encoder readings should be inverted. Defaults to False.
closed_loop (bool, optional): A flag indicating whether closed loop control should be used to control the motor. Defaults to False.
Kp (int, optional): The proportional gain of the PID controller. Defaults to 0.
Ki (int, optional): The integral gain of the PID controller. Defaults to 0.
Kd (int, optional): The derivative gain of the PID controller. Defaults to 0.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.get_angular_velocity">
<span class="sig-name descname"><span class="pre">get_angular_velocity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.get_angular_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.get_angular_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Get the current angular velocity of the wheel.</p>
<p>This method calculates and returns the current angular velocity of the wheel, in radians per second, based on the rotation of the wheel and the elapsed time between measurements.</p>
<p>Returns:
float: The current angular velocity of the wheel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.get_linear_velocity">
<span class="sig-name descname"><span class="pre">get_linear_velocity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.get_linear_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.get_linear_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Get the current linear velocity of the wheel.</p>
<p>This method calculates and returns the current linear velocity of the wheel, in meters per second, based on the distance traveled by the wheel and the elapsed time between measurements.</p>
<p>Returns:
float: The current linear velocity of the wheel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.get_rotation">
<span class="sig-name descname"><span class="pre">get_rotation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.get_rotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.get_rotation" title="Permalink to this definition"></a></dt>
<dd><p>Get the rotation of the wheel.</p>
<p>This method calculates and returns the rotation of the wheel, in ticks, based on the positions of the encoder at two different points in time. It also accounts for rollover, where the encoder position resets after reaching a certain value. The rotation is calculated by taking the difference between the encoder positions and applying a pulley ratio to convert from motor pulley rotation to wheel rotation.</p>
<p>Returns:
int: The rotation of the wheel, in ticks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.get_travel">
<span class="sig-name descname"><span class="pre">get_travel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.get_travel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.get_travel" title="Permalink to this definition"></a></dt>
<dd><p>Get the distance traveled by the wheel.</p>
<p>This method calculates and returns the distance traveled by the wheel, in meters, based on the rotation of the wheel and the radius of the wheel.</p>
<p>Returns:
float: The distance traveled by the wheel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.set_angular_velocity">
<span class="sig-name descname"><span class="pre">set_angular_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angular_velocity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.set_angular_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.set_angular_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Set the target angular velocity of the wheel.</p>
<p>This method sets the target angular velocity of the wheel, which is used to control the speed of the motor. The motor’s duty cycle is adjusted based on the target angular velocity, using either open loop or closed loop control.</p>
<p>Args:
angular_velocity (float): The target angular velocity to set, in radians per second.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.stop" title="Permalink to this definition"></a></dt>
<dd><p>Stop the motor driving the wheel.</p>
<p>This method stops the motor driving the wheel by setting the duty cycle to 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ddcontroller.wheels.Wheel.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ddcontroller/wheels.html#Wheel.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ddcontroller.wheels.Wheel.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the encoder position and timestamp.</p>
<p>This method updates the position and timestamp of the encoder by reading the current position and adding it to a queue of positions and timestamps. The most recent position and timestamp are then stored as attributes of the Wheel object.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-ddcontroller">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ddcontroller" title="Permalink to this heading"></a></h2>
<p>This file is part of the ddcontroller library (<a class="reference external" href="https://github.com/ansarid/ddcontroller">https://github.com/ansarid/ddcontroller</a>).
Copyright (C) 2022  Daniyal Ansari</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="ddcontroller" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Daniyal Ansari.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>